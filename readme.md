# Ипотечный калькулятор (веб‑приложение)

Веб‑интерфейс на Python/Flask для расчета аннуитетной ипотеки.
Пользователь вводит стоимость недвижимости, первоначальный взнос (суммой или процентом), срок и ставку.
Приложение рассчитывает платежи, переплату и строит интерактивный график, а также таблицу выплат.

## Возможности

- Аннуитетный расчет ежемесячного платежа.
- Первоначальный взнос: суммой или процентом.
- Переплата, общая сумма выплат, рекомендованный доход.
- Интерактивный график структуры платежа по месяцам.
- Подробная таблица выплат с остатком долга.

## Структура проекта

- `app.py` — сервер Flask и расчет ипотечного графика.
- `templates/index.html` — веб‑страница интерфейса.
- `static/styles.css` — стили интерфейса (glassmorphism, анимации).
- `static/chart.js` — интерактивный график.
- `static/formatting.js` — автоформатирование чисел в полях ввода.
- `requirements.txt` — зависимости.

## Быстрый старт

1. Установить зависимости:

```bash
pip install -r requirements.txt
```

2. Запустить приложение:

```bash
python app.py
```

3. Открыть в браузере:

```
http://127.0.0.1:5050
```

## Как устроен расчет

1. Стоимость недвижимости и первоначальный взнос преобразуются в сумму кредита.
2. Срок в годах переводится в месяцы.
3. Ставка переводится в месячную.
4. Ежемесячный платеж рассчитывается по аннуитетной формуле.
5. Формируется помесячный график: проценты, тело долга, остаток.
6. Итоги (переплата и общая сумма) считаются с учетом округления до копеек.

## Валидация ввода

- Сумма кредита > 0.
- Первоначальный взнос не отрицательный и меньше стоимости.
- Взнос задается либо суммой, либо процентом.
- Срок > 0, ставка >= 0.

## График и таблица выплат

- График показывает структуру платежа по месяцам (проценты и тело долга).
- При наведении отображается подсказка с суммами за выбранный месяц.
- Таблица ниже показывает платеж, проценты, основную сумму и остаток по каждому месяцу.

## Полезные команды

- Установка зависимостей: `pip install -r requirements.txt`
- Запуск приложения: `python app.py`

## Примечания

- Для правильной работы русского текста в файлах используется UTF‑8.
- При вводе чисел можно использовать пробелы или запятую.
